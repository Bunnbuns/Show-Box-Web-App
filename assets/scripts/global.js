//global.js
function getAllUrlParams(url) {
	var queryString = url ? url.split('?')[1] : window.location.search.slice(1);
	var obj = {};
	if (queryString) {
		queryString = queryString.split('#')[0];
		var arr = queryString.split('&');
		for (var i = 0; i < arr.length; i++) {
			var a = arr[i].split('=');
			var paramNum = undefined;
			var paramName = a[0].replace(/\[\d*\]/, function (v) {
				paramNum = v.slice(1, -1);
				return '';
			});
			var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];
			paramName = paramName;
			paramValue = paramValue;
			if (obj[paramName]) {
				if (typeof obj[paramName] === 'string') {
					obj[paramName] = [obj[paramName]];
				}
				if (typeof paramNum === 'undefined') {
					obj[paramName].push(paramValue);
				}
				else {
					obj[paramName][paramNum] = paramValue;
				}
			}
			else {
				obj[paramName] = paramValue;
			}
		}
	}
	return obj;
}
// settings
var saveclass = null;

function saveSettings(selectID){ // --- get value from id and save it as cookie with setCookie
    var sel = document.getElementById(selectID);
    
    setCookie('imageProxy', sel.value , 365);
    $('#settingsModal').modal('hide');
}
function setCookie(cookieName, cookieValue, nDays) { // --- set cookie for how many days --- //
    // credit to https://stackoverflow.com/questions/10957926/saving-dropdown-menu-selection-in-a-cookie
    var today = new Date();
    var expire = new Date();

    if (nDays==null || nDays==0)
        nDays=1;

    expire.setTime(today.getTime() + 3600000*24*nDays);
    document.cookie = cookieName+"="+escape(cookieValue) + ";expires="+expire.toGMTString();
}
function readCookie(name) { // --- return data from cookie --- //
  // credit to https://stackoverflow.com/questions/10957926/saving-dropdown-menu-selection-in-a-cookie
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');
  for(var i = 0; i < ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') c = c.substring(1, c.length);
    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
  }
  return null;
}  
//tv_list.js
var imageProxy = readCookie('imageProxy');
if(imageProxy == null){
    imageProxy = 'ON';
}